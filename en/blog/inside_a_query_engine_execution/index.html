<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/favicon.png"><meta name="generator" content="Astro v5.16.11"><!-- Canonical URL --><link rel="canonical" href="https://tech-lessons.in/en/blog/inside_a_query_engine_execution/"><!-- Primary Meta Tags --><title>Inside a Query Engine (Part 6): Execution</title><meta name="title" content="Inside a Query Engine (Part 6): Execution"><meta name="description" content="Inside a Query Engine (Part 6): Execution"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://tech-lessons.in/en/blog/inside_a_query_engine_execution/"><meta property="og:title" content="Inside a Query Engine (Part 6): Execution"><meta property="og:description" content="Inside a Query Engine (Part 6): Execution"><meta property="og:image" content="https://tech-lessons.in/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://tech-lessons.in/en/blog/inside_a_query_engine_execution/"><meta property="twitter:title" content="Inside a Query Engine (Part 6): Execution"><meta property="twitter:description" content="Inside a Query Engine (Part 6): Execution"><meta property="twitter:image" content="https://tech-lessons.in/blog-placeholder-1.jpg"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-9KKTKFQ2CM"></script><script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-9KKTKFQ2CM");
</script><link rel="stylesheet" href="/_astro/about.Dq19AYy-.css"></head> <body class="bg-white text-zinc-900 min-h-screen flex flex-col md:flex-row selection:bg-black selection:text-white"> <header class="md:hidden sticky top-0 z-50 bg-slate-900 border-b border-slate-800 text-white"> <div class="flex items-center justify-between px-6 py-4"> <div class="flex items-center gap-3"> <div class="w-8 h-8 rounded-full border border-slate-700 overflow-hidden bg-slate-800"> <img src="/avatar.png" alt="Sarthak Makhija" class="w-full h-full object-contain"> </div> <div class="flex flex-col"> <span class="font-bold text-sm leading-none">Sarthak Makhija</span> <span class="text-[10px] text-slate-400 mt-0.5">Databases & Storage Systems</span> </div> </div> <button id="mobile-menu-btn" class="p-2 text-slate-300 hover:text-white" aria-label="Toggle menu"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </button> </div> <!-- Mobile Menu Overlay --> <div id="mobile-menu" class="fixed inset-0 bg-slate-900 z-50 transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col h-screen overflow-y-auto"> <div class="flex items-center justify-between px-6 py-4 border-b border-slate-800"> <div class="flex items-center gap-3"> <div class="w-8 h-8 rounded-full border border-slate-700 overflow-hidden bg-slate-800"> <img src="/avatar.png" alt="Sarthak Makhija" class="w-full h-full object-contain"> </div> <div class="flex flex-col"> <span class="font-bold text-sm leading-none">Sarthak Makhija</span> <span class="text-[10px] text-slate-400 mt-0.5">Databases & Storage Systems</span> </div> </div> <button id="close-menu-btn" class="p-2 text-slate-300 hover:text-white" aria-label="Close menu"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="18" y1="6" x2="6" y2="18"></line> <line x1="6" y1="6" x2="18" y2="18"></line> </svg> </button> </div> <nav class="flex flex-col p-6 gap-2"> <a href="/" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
Home
</a> <a href="/en/paper-notes" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path> <polyline points="14 2 14 8 20 8"></polyline> <line x1="16" y1="13" x2="8" y2="13"></line> <line x1="16" y1="17" x2="8" y2="17"></line> <polyline points="10 9 9 9 8 9"></polyline> </svg>
Paper Notes
</a> <a href="/top-essays" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>
Top Essays
</a> <a href="/tags" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
Tags
</a> <a href="/projects" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
Projects
</a> <a href="/workshops" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
Workshops
</a> <a href="/about" class="flex items-center gap-3 px-3 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all font-medium text-lg"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
About Me
</a> </nav> <div class="mt-auto p-6 border-t border-slate-800"> <span class="text-xs font-semibold text-slate-500 uppercase tracking-wider pl-3 block mb-4">Contact</span> <div class="flex flex-col gap-2"> <a href="https://github.com/SarthakMakhija" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2.67-5-2.67"></path></svg>
GitHub
</a> <a href="https://www.linkedin.com/in/sarthak-makhija-7a165a55/" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
LinkedIn
</a> <a href="https://x.com/MakhijaSarthak" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-12.7 12.5S.7 7 2.8 5.7c-2 2 .5 5.5.5 5.5s-.8-3-3-3l6-6s-1.3 2.5-1.5 3c-1.3-4 5-6 6-5 2.5 0 5 4 5 4Z"></path></svg>
Twitter
</a> </div> </div> </div> </header> <script type="module">const t=document.getElementById("mobile-menu-btn"),n=document.getElementById("close-menu-btn"),e=document.getElementById("mobile-menu");t&&n&&e&&(t.addEventListener("click",()=>{e.classList.remove("translate-x-full")}),n.addEventListener("click",()=>{e.classList.add("translate-x-full")}),e.querySelectorAll("a").forEach(l=>{l.addEventListener("click",()=>{e.classList.add("translate-x-full")})}));</script> <aside class="hidden md:flex flex-col w-[280px] h-screen sticky top-0 border-r border-slate-800 bg-slate-900 p-8 shrink-0"> <!-- Profile --> <div class="flex flex-col items-start mb-12"> <div class="w-16 h-16 rounded-full border-2 border-slate-700 shadow-sm overflow-hidden mb-4 relative bg-slate-800"> <img src="/avatar.png" alt="Sarthak Makhija" class="w-full h-full object-contain"> </div> <h2 class="font-bold text-lg text-white leading-tight">
Sarthak Makhija
</h2> <span class="text-sm text-zinc-400">Databases & Storage Systems</span> </div> <!-- Navigation --> <nav class="flex-1 flex flex-col gap-1"> <a href="/" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
Home
</a> <a href="/en/paper-notes" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path> <polyline points="14 2 14 8 20 8"></polyline> <line x1="16" y1="13" x2="8" y2="13"></line> <line x1="16" y1="17" x2="8" y2="17"></line> <polyline points="10 9 9 9 8 9"></polyline> </svg>
Paper Notes
</a> <a href="/top-essays" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"> <line x1="12" y1="20" x2="12" y2="10"></line> <line x1="18" y1="20" x2="18" y2="4"></line> <line x1="6" y1="20" x2="6" y2="16"></line> </svg>
Top Essays
</a> <a href="/tags" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
Tags
</a> <a href="/projects" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
Projects
</a> <a href="/workshops" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
Workshops
</a> <a href="/about" class="flex items-center gap-3 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-all group font-medium"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
About Me
</a> </nav> <!-- Socials --> <div class="mt-auto pt-8 border-t border-slate-800 flex flex-col gap-4"> <span class="text-xs font-semibold text-slate-500 uppercase tracking-wider pl-3">Contact</span> <div class="flex flex-col gap-1"> <a href="https://github.com/SarthakMakhija" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2.67-5-2.67"></path></svg>
GitHub
</a> <a href="https://www.linkedin.com/in/sarthak-makhija-7a165a55/" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
LinkedIn
</a> <a href="https://x.com/MakhijaSarthak" target="_blank" class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-white transition-colors text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-12.7 12.5S.7 7 2.8 5.7c-2 2 .5 5.5.5 5.5s-.8-3-3-3l6-6s-1.3 2.5-1.5 3c-1.3-4 5-6 6-5 2.5 0 5 4 5 4Z"></path></svg>
Twitter
</a> </div> </div> </aside> <div class="flex-1 flex flex-col min-w-0"> <main class="flex-1 max-w-[1280px] mx-auto px-6 py-12 md:py-20 w-full">  <article class="max-w-[1280px] mx-auto min-w-0"> <div class="lg:grid lg:grid-cols-[1fr_240px] lg:gap-12 items-start"> <div class="min-w-0"> <!-- Article Header --> <header class="mb-12"> <h1 class="text-[40px] md:text-[48px] font-sans font-extrabold text-black leading-[1.2] mb-6 tracking-tight"> Inside a Query Engine (Part 6): Execution </h1> <div class="flex items-center gap-4 text-[16px] text-zinc-500 mb-8 border-b border-zinc-100 pb-8"> <time datetime="2026-02-24T00:00:00.000Z" class="text-zinc-400"> Feb 24, 2026 </time> <span>/</span> <span>Query, Execution, Volcano Model, Rust, Database Internals</span> </div>  </header> <!-- Table of Contents (Mobile Only) --> <div class="lg:hidden bg-gray-50 rounded-lg p-6 mb-12 border border-zinc-100"> <h2 class="text-black font-bold font-sans text-[16px] uppercase tracking-wide mb-4">
Table of contents
</h2> <ul class="space-y-2 list-none m-0 p-0 text-zinc-600"> <li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#from-logical-plan-to-running-code" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> From Logical Plan to Running Code </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#the-execution-model-pull-based-volcano-model" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Execution Model: Pull-Based (Volcano Model) </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#resultset-why-it-is-not-an-iterator" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> ResultSet: Why It Is Not an Iterator </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#unary-operators-decorators-over-resultset" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Unary Operators: Decorators Over ResultSet </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#nested-loop-join-the-binary-operator" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Nested Loop Join: The Binary Operator </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-6"> <a href="#the-recursive-execution-flow" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Recursive Execution Flow </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#data-flow-rowview-and-predicates" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Data Flow: RowView and Predicates </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#blocking-vs-streaming-operators" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Blocking vs. Streaming Operators </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#the-full-model-in-action" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Full Model in Action </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#architecture-recap" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Architecture Recap </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#references" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> References </a> </li> </ul> </div> <!-- Article Content --> <div class="prose prose-lg max-w-none text-black
            [&_h1]:font-serif [&_h1]:font-bold [&_h1]:text-black [&_h1]:text-[36px] [&_h1]:mt-10 [&_h1]:mb-4
            [&_h2]:font-serif [&_h2]:font-bold [&_h2]:text-black [&_h2]:text-[30px] [&_h2]:mt-10 [&_h2]:mb-6
            [&_h3]:font-sans [&_h3]:font-bold [&_h3]:text-black [&_h3]:text-[24px] [&_h3]:mt-10 [&_h3]:mb-4
            [&_h4]:font-sans [&_h4]:font-bold [&_h4]:text-black [&_h4]:text-[18px] [&_h4]:mt-8 [&_h4]:mb-4
            [&_p]:font-sans [&_p]:text-[1.125rem] [&_p]:leading-[1.7777778] [&_p]:text-zinc-800 [&_p]:my-[1em]
            [&_a]:underline [&_a]:decoration-zinc-400 [&_a]:transition-all
            
            /* Table Styling */
            [&_table]:w-full [&_table]:border-collapse [&_table]:my-8 [&_table]:border [&_table]:border-zinc-200 [&_table]:rounded-lg [&_table]:overflow-hidden
            [&_th]:text-left [&_th]:p-3 [&_th]:border-b [&_th]:border-zinc-200 [&_th]:bg-zinc-50 [&_th]:font-semibold [&_th]:text-zinc-900
            [&_td]:p-3 [&_td]:border-b [&_td]:border-zinc-200 [&_td]:text-zinc-700
            [&_tr:last-child_td]:border-0
            
            [&_li]:text-[1.125rem] [&_li]:leading-[1.7777778] [&_li]:text-zinc-800 [&_li]:mb-2
            [&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:mb-6
            [&_ul]:list-disc [&_ul]:pl-6 [&_ul]:mb-6
            [&_img]:rounded-md [&_img]:shadow-lg [&_img]:my-8
            [&_figcaption]:text-center [&_figcaption]:text-sm [&_figcaption]:text-zinc-500 [&_figcaption]:italic [&_figcaption]:mt-[-20px] [&_figcaption]:mb-8
            [&_blockquote]:relative [&_blockquote]:bg-zinc-100 [&_blockquote]:text-zinc-700 [&_blockquote]:p-8 [&_blockquote]:rounded-2xl [&_blockquote]:my-10 [&_blockquote]:not-italic [&_blockquote]:text-[1.1rem] [&_blockquote]:leading-relaxed [&_blockquote]:ml-24
            [&_blockquote::before]:content-[''] [&_blockquote::before]:absolute [&_blockquote::before]:top-8 [&_blockquote::before]:-left-3 [&_blockquote::before]:border-t-[12px] [&_blockquote::before]:border-t-transparent [&_blockquote::before]:border-b-[12px] [&_blockquote::before]:border-b-transparent [&_blockquote::before]:border-r-[16px] [&_blockquote::before]:border-r-zinc-100
            [&_blockquote::after]:content-[''] [&_blockquote::after]:absolute [&_blockquote::after]:-left-32 [&_blockquote::after]:-top-2 [&_blockquote::after]:w-28 [&_blockquote::after]:h-28 [&_blockquote::after]:bg-[url('/avatar.png')] [&_blockquote::after]:bg-contain [&_blockquote::after]:bg-no-repeat [&_blockquote::after]:bg-center [&_blockquote::after]:rounded-full [&_blockquote::after]:border-4 [&_blockquote::after]:border-white [&_blockquote::after]:shadow-md
            [&_pre]:p-6 [&_pre]:rounded-lg [&_pre]:overflow-x-auto [&_pre]:my-8
            [&_code]:font-mono [&_code]:text-[14px] [&_code]:leading-relaxed"> <p>In the last part, we saw how the <a href="/en/blog/inside_a_query_engine_logical_plan">Logical Plan</a> acts as a blueprint for our query. It is a static tree that describes <em>what</em> relational transformations must happen to the data.</p>
<p>This final part is about the <strong>Executor</strong>: the component that takes that blueprint and turns it into living, breathing code.</p>
<p><em>(Note: Relop does not implement a cost-based optimizer or a separate physical planning phase. The Executor works on the LogicalPlan directly.)</em></p>
<h3 id="from-logical-plan-to-running-code">From Logical Plan to Running Code</h3>
<p>The boundary between planning and execution is clear:</p>
<ul>
<li>The <strong>Logical Plan</strong> is descriptive. It is an algebraic tree of what we want to achieve.</li>
<li>The <strong>Executor</strong> turns each logical operator into executable code.</li>
<li>The <strong>Logical Plan</strong> is a tree of descriptions; the <strong>Executor</strong> transforms it into a tree of iterator factories.</li>
</ul>
<p>When we move from the plan to the executor, we aren’t just traversing a tree; we are building a stack of <strong>iterators</strong> that will pull data through the system.</p>
<p>This “realization” happens recursively. The executor looks at a logical plan node, creates the corresponding execution operator (called <code>ResultSet</code>), and then recursively does the same for its children.</p>
<p>Here is how the core <code>execute_select</code> logic looks in Relop:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#F97583">fn</span><span style="color:#B392F0"> execute_select</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">    &#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    logical_plan</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LogicalPlan</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Box</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">dyn</span><span style="color:#E1E4E8"> result_set</span><span style="color:#F97583">::</span><span style="color:#B392F0">ResultSet</span><span style="color:#E1E4E8">>, </span><span style="color:#B392F0">ExecutionError</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">    match</span><span style="color:#E1E4E8"> logical_plan {</span></span>
<span class="line"><span style="color:#B392F0">        LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Scan</span><span style="color:#E1E4E8"> { table_name, alias } </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> (table_entry, table) </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span></span>
<span class="line"><span style="color:#F97583">                .</span><span style="color:#E1E4E8">catalog</span></span>
<span class="line"><span style="color:#F97583">                .</span><span style="color:#B392F0">scan</span><span style="color:#E1E4E8">(table_name</span><span style="color:#F97583">.</span><span style="color:#B392F0">as_ref</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#F97583">                .</span><span style="color:#B392F0">map_err</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">ExecutionError</span><span style="color:#F97583">::</span><span style="color:#B392F0">Catalog</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> table_scan </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> table_entry</span><span style="color:#F97583">.</span><span style="color:#B392F0">scan</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">result_set</span><span style="color:#F97583">::</span><span style="color:#B392F0">ScanResultsSet</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                table_scan, table, alias,</span></span>
<span class="line"><span style="color:#E1E4E8">            )))</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#B392F0">        LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Join</span><span style="color:#E1E4E8"> { left, right, on } </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> left_result_set </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">execute_select</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">left)</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> right_result_set </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">execute_select</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">right)</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">result_set</span><span style="color:#F97583">::</span><span style="color:#B392F0">NestedLoopJoinResultSet</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                left_result_set,</span></span>
<span class="line"><span style="color:#E1E4E8">                right_result_set,</span></span>
<span class="line"><span style="color:#E1E4E8">                on,</span></span>
<span class="line"><span style="color:#E1E4E8">            )))</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#B392F0">        LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Filter</span><span style="color:#E1E4E8"> { base_plan</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> base, predicate } </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> result_set </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0" class="highlighted-word">execute_select</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">base)</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">; </span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">result_set</span><span style="color:#F97583">::</span><span style="color:#B392F0">FilterResultSet</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                result_set, predicate,</span></span>
<span class="line"><span style="color:#E1E4E8">            )))</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#B392F0">        LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Projection</span><span style="color:#E1E4E8"> { base_plan</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> base, columns } </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> result_set </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0" class="highlighted-word">execute_select</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">base)</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">            let</span><span style="color:#E1E4E8"> project_result_set </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#B392F0">                result_set</span><span style="color:#F97583">::</span><span style="color:#B392F0">ProjectResultSet</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(result_set, </span><span style="color:#F97583">&#x26;</span><span style="color:#E1E4E8">columns[</span><span style="color:#F97583">..</span><span style="color:#E1E4E8">])</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(project_result_set))</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#6A737D">        // ... handled similarly for Sort, Limit, etc.</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>In this code, you can see the <strong>Recursive Construction</strong>. To execute a <code>Filter</code>, we first execute its <code>base_plan</code>. This recursion continues until we reach a <code>Scan</code>, which hits the catalog and provides the actual data source.</p>
<p>The result is a tree of <code>ResultSet</code> objects that perfectly mirrors our <code>LogicalPlan</code>, but where each node is now a piece of code ready to iterate over rows.</p>
<h3 id="the-execution-model-pull-based-volcano-model">The Execution Model: Pull-Based (Volcano Model)</h3>
<p><a href="https://github.com/SarthakMakhija/relop/blob/main/src/query/executor/mod.rs">Relop</a> uses a <strong>pull-based iterator model</strong>, also known as the <strong>Volcano Model</strong>.</p>
<p>In this model, execution begins at the <strong>root</strong> of the logical plan, the top-most operator in the tree (for example, the Projection in a <code>SELECT</code> query). When the client requests a row by calling <code>next()</code> on the root iterator, that <code>iterator</code> pulls from its child iterator. This cascading chain continues downward until a row is produced by the base data source (the <code>table scan</code>), after which the row flows back up through each layer to the client.</p>
<p>Let’s take an example.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#F97583">SELECT</span><span style="color:#E1E4E8"> id</span></span>
<span class="line"><span style="color:#F97583">FROM</span><span style="color:#E1E4E8"> users</span></span>
<span class="line"><span style="color:#F97583">WHERE</span><span style="color:#E1E4E8"> age </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 30</span><span style="color:#E1E4E8">;</span></span></code></pre>
<p>The above query produces the following logical plan:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>Projection(columns = ["id"])</span></span>
<span class="line"><span>    └── Filter(predicate = age > 30)</span></span>
<span class="line"><span>            └── Scan(table = "users")</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#6A737D">//pseudo-code</span></span>
<span class="line"><span style="color:#B392F0">LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Projection</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    columns</span><span style="color:#F97583">:</span><span style="color:#B392F0"> vec!</span><span style="color:#E1E4E8">[</span><span style="color:#9ECBFF">"id"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    base_plan</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">        LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Filter</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">            predicate</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> age </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 30</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">            base_plan</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">                LogicalPlan</span><span style="color:#F97583">::</span><span style="color:#B392F0">Scan</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">                    table_name</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> "users"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                    alias</span><span style="color:#F97583">:</span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                }</span></span>
<span class="line"><span style="color:#E1E4E8">            )</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>When the Executor runs, it <strong>mirrors</strong> this <strong>tree</strong> with <strong>concrete operator implementations</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>SQL:</span></span>
<span class="line"><span>SELECT id FROM users WHERE age > 30;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>────────────────────────────────────────────────────────────</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Logical Plan (Descriptive)        ResultSet Tree (Executable)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Projection                        ProjectResultSet</span></span>
<span class="line"><span>  └── Filter                        └── FilterResultSet</span></span>
<span class="line"><span>        └── Scan                          └── ScanResultsSet</span></span>
<span class="line"><span></span></span>
<span class="line"><span>────────────────────────────────────────────────────────────</span></span></code></pre>
<p>When the user calls <code>next()</code> on the root iterator, the following happens:</p>
<ol>
<li>The <code>Projection</code> calls <code>next()</code> on its child iterator (the <code>Filter</code>).</li>
<li>The <code>Filter</code> operator implementation calls <code>next()</code> on its child iterator (the <code>Scan</code>).</li>
<li>The <code>Scan</code> operator implementation reads a row from the table.</li>
<li>The <code>Filter</code> operator implementation checks if the row satisfies the predicate.</li>
<li>If the row satisfies the predicate, the <code>Projection</code> operator implementation projects the row and returns it.</li>
<li>This process repeats from point 1 on every <code>next()</code> call until the client has consumed all rows.</li>
</ol>
<h3 id="resultset-why-it-is-not-an-iterator">ResultSet: Why It Is Not an Iterator</h3>
<p>One of the most critical design decisions in Relop is the distinction between a <code>ResultSet</code> and an <code>Iterator</code>.</p>
<p>You might expect an operator to <em>be</em> an iterator, but in Relop, an operator <em>implements</em> <code>ResultSet</code>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> trait</span><span style="color:#B392F0"> ResultSet</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Send</span><span style="color:#F97583"> +</span><span style="color:#B392F0"> Sync</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    /// Returns an iterator over the rows in the result set.</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> iterator</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Box</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">dyn</span><span style="color:#B392F0"> Iterator</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Item</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> RowViewResult</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> '</span><span style="color:#B392F0">_</span><span style="color:#E1E4E8">>, </span><span style="color:#B392F0">ExecutionError</span><span style="color:#E1E4E8">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    /// Returns the schema of the result set.</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> schema</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#F97583"> &#x26;</span><span style="color:#B392F0">Schema</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Why this extra layer?</p>
<ol>
<li><strong>Ownership Boundaries</strong>: The <code>ResultSet</code> owns the structural data (like the schema or filter predicate), while the <code>Iterator</code> holds the transient execution state (like the current row cursor).</li>
<li><strong>Multiple Passes</strong>: Because <code>ResultSet</code> is a factory, you can call <code>.iterator()</code> multiple times to restart the execution without rebuilding the entire plan.</li>
<li><strong>Self-Referential Safety</strong>: In Rust, keeping the iteration state separate from the data source avoids complex lifetime and self-referential struct issues.</li>
</ol>
<h3 id="unary-operators-decorators-over-resultset">Unary Operators: Decorators Over ResultSet</h3>
<p>The implementation of most operators follows a simple pattern: they are <strong>decorators</strong>. Every operator wraps another <code>ResultSet</code> and transforms the iterator it produces.</p>
<p>Consider the <code>FilterResultSet</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#F97583">pub</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> FilterResultSet</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    inner</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Box</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">dyn</span><span style="color:#B392F0"> ResultSet</span><span style="color:#E1E4E8">>,</span></span>
<span class="line"><span style="color:#E1E4E8">    predicate</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Predicate</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> ResultSet</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FilterResultSet</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> iterator</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Box</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">dyn</span><span style="color:#B392F0"> Iterator</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Item</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> RowViewResult</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> '</span><span style="color:#B392F0">_</span><span style="color:#E1E4E8">>, </span><span style="color:#B392F0">ExecutionError</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">        let</span><span style="color:#E1E4E8"> inner_iterator </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">inner</span><span style="color:#F97583">.</span><span style="color:#B392F0">iterator</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">        // The transformation happens here</span></span>
<span class="line"><span style="color:#B392F0">        Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(inner_iterator</span><span style="color:#F97583">.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">|</span><span style="color:#E1E4E8">row</span><span style="color:#F97583">|</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">           // check predicate...</span></span>
<span class="line"><span style="color:#E1E4E8">        })))</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>By stacking these decorators <strong><code>Limit</code> → <code>Sort</code> → <code>Projection</code> → <code>Filter</code> → <code>Scan</code></strong>, we form an execution pipeline where the <code>Scan</code> operator sits at the very base, providing the source data for the layers above. Each layer wraps the previous one, and data flows through them like a stream.</p>
<p>Each operator transforms the row in a specific way:</p>
<ul>
<li><strong>Scan</strong> produces the initial <code>RowView</code> from raw table data.</li>
<li><strong>Filter</strong> evaluates a <code>Predicate</code> against the <code>RowView</code>. This is where the logical expressions we parsed earlier finally become executable code.</li>
<li><strong>Projection</strong> rewrites the <code>RowView</code> by restricting which columns are visible, effectively narrowing the schema without copying the underlying row.</li>
<li><strong>Sort</strong> may buffer many <code>RowViews</code> in memory before reordering them.</li>
<li><strong>Limit</strong> simply truncates the stream after a fixed number of rows.</li>
</ul>
<p>Notice that no operator needs to know how the row was originally produced. Each layer only sees a <code>RowView</code> coming from below and returns a transformed <code>RowView</code> to its parent. This isolation is what makes the pipeline composable.</p>
<h3 id="nested-loop-join-the-binary-operator">Nested Loop Join: The Binary Operator</h3>
<p>While unary operators are simple decorators, the <strong>Join</strong> is a bit more complex. It is a binary operator that must coordinate two different <code>ResultSet</code> sources. In Relop, joins are left-associative.</p>
<p>Relop implements a <a href="https://github.com/SarthakMakhija/relop/blob/main/src/query/executor/result_set.rs#L292">Nested Loop Join</a>. For a join between table A and table B, the logic is:</p>
<ol>
<li>Pull a row from A (the outer table).</li>
<li>Reset the iterator for B (the inner table) and pull every row from it.</li>
<li>Combine the current A row with each B row and evaluate the join condition.</li>
<li>Repeat for every row in A.</li>
</ol>
<p>Each join node only understands its immediate children; recursion composes them into arbitrarily deep join trees.
For multi-table joins like <code>(A JOIN B) JOIN C</code>, this execution forms a recursive tree of iterators:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>           [Outer Join Iterator]</span></span>
<span class="line"><span>              /            \</span></span>
<span class="line"><span>     left_iterator: Pulls  right_result_set: Resets and iterates</span></span>
<span class="line"><span>     rows from Inner Join  for every left row.</span></span>
<span class="line"><span>            /</span></span>
<span class="line"><span>    [Inner Join Iterator]</span></span>
<span class="line"><span>       /            \</span></span>
<span class="line"><span>  left: Pulls from A  right: Resets/Iterates for B</span></span></code></pre>
<h4 id="the-recursive-execution-flow">The Recursive Execution Flow</h4>
<p>The elegance of the Volcano model is that the “Outer” join doesn’t need to know it is pulling from another join; it just sees a stream of rows from its <code>left_iterator</code>.</p>
<ol>
<li>The <strong>Outer Join Iterator</strong> calls <code>next()</code> on its <code>left_iterator</code> (the Inner Join).</li>
<li>The <strong>Inner Join Iterator</strong> pulls a row from <code>A</code>, resets <code>B</code>, and returns the first <code>A+B</code> combined row.</li>
<li>The <strong>Outer Join Iterator</strong> receives <code>A+B</code>, resets its own right side (<code>C</code>), and begins combining <code>A+B</code> with each row of <code>C</code>.</li>
<li>This process repeats, effectively creating a 3-level deep nested loop without the outer nodes needing to know the internal structure of their children.</li>
</ol>
<p>This recursive “reset and iterate” pattern allows Relop to handle arbitrarily complex join trees using a single, unified join operator implementation.</p>
<h3 id="data-flow-rowview-and-predicates">Data Flow: RowView and Predicates</h3>
<p>As rows flow through this pipeline, they are wrapped in a <strong>RowView</strong>. This is a lightweight structure that allows operators to access column values without constantly copying data.</p>
<ul>
<li><strong>Filters</strong> evaluate <code>Predicates</code> against a <code>RowView</code>. This is where the logical expressions we parsed in Part 4 finally come to life.</li>
<li><strong>Projections</strong> rewrite the <code>RowView</code> to hide columns that aren’t needed.</li>
<li><strong>Joins</strong> merge two <code>RowViews</code> into a single combined view before evaluating the <code>ON</code> condition.</li>
</ul>
<h3 id="blocking-vs-streaming-operators">Blocking vs. Streaming Operators</h3>
<p>In a pull-based model, there are two types of operators:</p>
<ol>
<li><strong>Streaming Operators</strong>: These yield rows as soon as they receive them from their child. <code>Filter</code>, <code>Projection</code>, and <code>Limit</code> are streaming. They have a very low memory footprint because they don’t store rows.</li>
<li><strong>Blocking Operators</strong>: These must consume <strong>all</strong> input from their child before they can yield the first result. <code>Sort</code> (<code>OrderingResultSet</code>) is a prime example. To sort the data, the engine must buffer the entire input set into memory, sort it, and only then start yielding rows to the parent. <strong>Blocking operators</strong> break the pure streaming pipeline and introduce memory buffering.</li>
</ol>
<p>This distinction is fundamental to understanding the performance and memory profile of a query.</p>
<h3 id="the-full-model-in-action">The Full Model in Action</h3>
<p>Let’s trace a final query through the entire system:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#F97583">SELECT</span><span style="color:#E1E4E8"> id </span><span style="color:#F97583">FROM</span><span style="color:#E1E4E8"> users </span><span style="color:#F97583">WHERE</span><span style="color:#E1E4E8"> age </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 30</span></span></code></pre>
<ol>
<li>The <a href="https://github.com/SarthakMakhija/relop/blob/main/src/client/mod.rs#L310">client</a> calls <code>executor.execute()</code>, which returns a <code>ResultSet</code>.</li>
<li>The <strong>client</strong> calls <code>result_set.iterator()</code>.</li>
<li>The <strong>client</strong> calls <code>next()</code> to request a row.</li>
<li>The <strong>top-level operator</strong> (<code>Projection</code>) asks its child (<code>Filter</code>) for the next row.</li>
<li>The <strong>Filter</strong> asks the <strong>Scan</strong> for rows until one satisfies <code>age > 30</code>.</li>
<li>The <strong>Scan</strong> reads a row from the table and returns it upward.</li>
<li>The <strong>Filter</strong> checks the predicate and passes the matching row upward.</li>
<li>The <code>Projection</code> keeps only the <code>id</code> column.</li>
</ol>
<p>The final row is returned to the client. This process repeats from point 3 on every <code>next()</code> call until the client has consumed all rows.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> ResultSet</span><span style="color:#F97583"> for</span><span style="color:#B392F0"> FilterResultSet</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> iterator</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Box</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">dyn</span><span style="color:#B392F0"> Iterator</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Item</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> RowViewResult</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> '</span><span style="color:#B392F0">_</span><span style="color:#E1E4E8">>, </span><span style="color:#B392F0">ExecutionError</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">        let</span><span style="color:#E1E4E8"> inner_iterator </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">inner</span><span style="color:#F97583">.</span><span style="color:#B392F0">iterator</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">        let</span><span style="color:#E1E4E8"> result </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> inner_iterator</span><span style="color:#F97583">.</span><span style="color:#B392F0">filter_map</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">move</span><span style="color:#F97583"> |</span><span style="color:#E1E4E8">row_view_result</span><span style="color:#F97583">|</span><span style="color:#F97583"> match</span><span style="color:#E1E4E8"> row_view_result {</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(row_view) </span><span style="color:#F97583">=></span><span style="color:#F97583"> match</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">predicate</span><span style="color:#F97583">.</span><span style="color:#B392F0">matches</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#E1E4E8">row_view) {</span></span>
<span class="line"><span style="color:#B392F0">                Ok</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Ok</span><span style="color:#E1E4E8">(row_view)),</span></span>
<span class="line"><span style="color:#B392F0">                Ok</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> None</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">                Err</span><span style="color:#E1E4E8">(err) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Err</span><span style="color:#E1E4E8">(err)),</span></span>
<span class="line"><span style="color:#E1E4E8">            },</span></span>
<span class="line"><span style="color:#B392F0">            Err</span><span style="color:#E1E4E8">(error) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> Some</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Err</span><span style="color:#E1E4E8">(error)),</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#B392F0">        Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Box</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">(result))</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> schema</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#F97583"> &#x26;</span><span style="color:#B392F0">Schema</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">        self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">inner</span><span style="color:#F97583">.</span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<center><i>FilterResultSet for reference</i></center>
<h3 id="architecture-recap">Architecture Recap</h3>
<p>We have traced a query from its birth as a string to its final realization as a stream of rows.</p>
<div class="mermaid">graph LR
    SQL --> Lexer --> Parser --> AST --> Planner --> LogicalPlan --> Executor --> ResultSet --> Iterator --> Rows</div>
<p>By building these layers by hand, the Lexer, the Recursive Descent Parser, the Algebraic Planner, and the Volcano Executor, we have demystified how a query engine transforms a declarative specification into a stream of evaluated rows.</p>
<p>Thank you for following along on this journey through the query engine. Happy coding!</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://paperhub.s3.amazonaws.com/dace52a42c07f7f8348b08dc2b186061.pdf">Volcano-An Extensible and Parallel Query Evaluation System, Goetz Graefe</a></li>
</ul> </div> <!-- Tags Section --> <div class="mt-12 pt-8 border-t border-zinc-100"> <div class="flex flex-wrap gap-3"> <div class="flex items-center gap-2 px-3 py-1.5 border border-accent-600 rounded-lg text-accent-600 text-sm font-medium bg-white hover:bg-indigo-50 transition-colors cursor-default"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path> <path d="M7 7h.01"></path> </svg> Query </div><div class="flex items-center gap-2 px-3 py-1.5 border border-accent-600 rounded-lg text-accent-600 text-sm font-medium bg-white hover:bg-indigo-50 transition-colors cursor-default"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path> <path d="M7 7h.01"></path> </svg> Execution </div><div class="flex items-center gap-2 px-3 py-1.5 border border-accent-600 rounded-lg text-accent-600 text-sm font-medium bg-white hover:bg-indigo-50 transition-colors cursor-default"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path> <path d="M7 7h.01"></path> </svg> Volcano Model </div><div class="flex items-center gap-2 px-3 py-1.5 border border-accent-600 rounded-lg text-accent-600 text-sm font-medium bg-white hover:bg-indigo-50 transition-colors cursor-default"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path> <path d="M7 7h.01"></path> </svg> Rust </div><div class="flex items-center gap-2 px-3 py-1.5 border border-accent-600 rounded-lg text-accent-600 text-sm font-medium bg-white hover:bg-indigo-50 transition-colors cursor-default"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path> <path d="M7 7h.01"></path> </svg> Database Internals </div> </div> </div> <!-- Related Essays --> <div class="mt-12 pt-8 border-t border-zinc-100"> <h2 class="text-2xl font-bold font-sans mb-6 text-black">
More from Tech Lessons
</h2> <div class="grid gap-6 md:grid-cols-2"> <a href="/en/blog/diving_into_rust/" class="block p-6 rounded-xl border border-zinc-200 hover:border-zinc-300 hover:shadow-sm transition-all bg-white group"> <h3 class="font-sans font-medium text-lg text-zinc-900 mb-2 group-hover:text-accent-600 transition-colors line-clamp-2"> Diving into Rust by building an assertions crate </h3> <div class="text-sm text-zinc-500 font-sans"> <time datetime="2024-01-24T00:00:00.000Z" class="text-zinc-400"> Jan 24, 2024 </time> </div> </a><a href="/en/blog/designing_lfu_cache/" class="block p-6 rounded-xl border border-zinc-200 hover:border-zinc-300 hover:shadow-sm transition-all bg-white group"> <h3 class="font-sans font-medium text-lg text-zinc-900 mb-2 group-hover:text-accent-600 transition-colors line-clamp-2"> Designing an in-memory LFU cache </h3> <div class="text-sm text-zinc-500 font-sans"> <time datetime="2023-05-26T00:00:00.000Z" class="text-zinc-400"> May 26, 2023 </time> </div> </a> </div> </div> <!-- Giscus Comments --> <div class="mt-16 pt-8 border-t border-zinc-100"> <script src="https://giscus.app/client.js" data-repo="SarthakMakhija/tech-lessons-comments" data-repo-id="R_kgDOJHu3mA" data-category="Announcements" data-category-id="DIC_kwDOJHu3mM4CUxhS" data-mapping="og:title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" async></script> </div> </div> <!-- Sidebar TOC (Desktop Only) --> <aside class="hidden lg:block sticky top-24 pt-8 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar"> <div class="text-xs font-bold text-zinc-400 uppercase tracking-wider mb-4 font-sans">
On this page
</div> <ul class="space-y-2 list-none m-0 p-0 text-zinc-600"> <li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#from-logical-plan-to-running-code" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> From Logical Plan to Running Code </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#the-execution-model-pull-based-volcano-model" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Execution Model: Pull-Based (Volcano Model) </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#resultset-why-it-is-not-an-iterator" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> ResultSet: Why It Is Not an Iterator </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#unary-operators-decorators-over-resultset" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Unary Operators: Decorators Over ResultSet </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#nested-loop-join-the-binary-operator" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Nested Loop Join: The Binary Operator </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-6"> <a href="#the-recursive-execution-flow" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Recursive Execution Flow </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#data-flow-rowview-and-predicates" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Data Flow: RowView and Predicates </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#blocking-vs-streaming-operators" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Blocking vs. Streaming Operators </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#the-full-model-in-action" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> The Full Model in Action </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#architecture-recap" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> Architecture Recap </a> </li><li class="flex gap-3 items-start text-[14px] leading-[21px] ml-3"> <a href="#references" class="hover:text-accent-600 hover:translate-x-1 transition-all duration-200 ease-in-out"> References </a> </li> </ul> </aside> </div> </article>  </main> <footer class="border-t border-slate-800 bg-slate-900 py-8 text-center text-sm text-zinc-500"> <div class="container mx-auto px-4">
tech-lessons.in &copy; 2020 / Powered by <a href="https://astro.build" target="_blank" class="hover:text-zinc-300 transition-colors">Astro</a> </div> </footer> </div> <!-- Subtle gradient glow at the bottom/edges (optional, keeping it really subtle) --> <div class="fixed inset-0 pointer-events-none z-[-1] bg-[radial-gradient(circle_at_50%_120%,rgba(120,119,198,0.1),rgba(255,255,255,0))]"></div> <script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.Ci7t3JeA.js"></script> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("pre").forEach(t=>{const e=document.createElement("button");e.className="copy-code-button",e.innerHTML=`
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
							<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
						</svg>
					`,e.ariaLabel="Copy code";const r=document.createElement("div");r.className="code-block-wrapper relative group",t.parentNode&&(t.parentNode.insertBefore(r,t),r.appendChild(t),r.appendChild(e)),e.addEventListener("click",async()=>{const o=t.querySelector("code")?.innerText||t.innerText;try{await navigator.clipboard.writeText(o),e.innerHTML=`
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500">
									<polyline points="20 6 9 17 4 12"></polyline>
								</svg>
							`,setTimeout(()=>{e.innerHTML=`
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
										<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
										<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
									</svg>
								`},2e3)}catch(n){console.error("Failed to copy:",n)}})})});</script>  </body> </html>